# $Id: Makeinclude.config,v 1.3 1997/03/28 15:57:13 carr Exp $
###########################################################################
#
# File:
#   Makeinclude.config
#
# Authors: 
#    Kevin Cureton
#
# Date:
#    August 1994
#
# Description:
#    This file contains correct paths for the tools which are used to
#    compile the D System Programming Environment.
#
###########################################################################
#
#          Copyright 1992, 1993, 1994  Rice University
#                     All Rights Reserved
#
###########################################################################

###########################################################################
# Architecture and site dependent configuration for the three flavors of
# operating system that are supported:  SunOS-5.x, OSF1.
###########################################################################

#-----------------------------------------------------------------
# Start OSF1 configuration 
#-----------------------------------------------------------------
ifeq "$(DSYSTEM_OS)" "OSF1"

#  Fortran compiler
FC = /usr/bin/f77

#  Non-ANSI C compiler
CC = /usr/bin/cc -xtaso_short -w

#  Strict ANSI-C compiler
ACC = /usr/bin/cc -std1 -xtaso_short -w

#  C++ compiler
CXX = /usr/bin/cxx -xtaso_short -w

#  C++ library to use for prelinking
LCXX = -lcxx

# Archive command
AR = /usr/bin/ar
ARFLAGS = r

#  remove command
RM = /bin/rm -f

#  Echo command
ECHO = /usr/bin/echo 

#  Command used to strip -g libraries
STRIP = ld -r -x

#  Extra flags for required for the specific architecture
ARCH_CPPFLAGS = -D_BSD_INCLUDES -D_BSD -DOSF1

# Directories for X includes and archives
X11_LIB_DIR = /usr/lib
X11_INCLUDE_DIR = /usr/include/X11

#  Libraries needed for X-Windows
X11_LIB = -L$(X11_LIB_DIR) -lX11

#  Libraries need for Fortran
FORT_LIB = -lf77

#  Specific libraries needed by the architecture
ARCH_LIBS = -lbsd

AWK = gawk
endif # "$(DSYSTEM_OS)" "OSF1"

#-----------------------------------------------------------------
# Start SunOS-5.x (Solaris 2.x) configuration
#-----------------------------------------------------------------

ifeq "$(DSYSTEM_OS)" "SunOS-5.x"

#  Fortran compiler
FC = /usr/local2.x/lang3/SUNWspro/bin/f77 
#FC = /opt/SUNWspro/bin/f77 

#  Non-ANSI C compiler (SC2.0)
#CC = /opt/SUNWspro/bin/cc
CC = /usr/local2.x/lang3/SUNWspro/bin/cc

#  Strict ANSI-C compiler (SC2.0)
#ACC = /opt/SUNWspro/bin/cc -Xc
ACC = /usr/local2.x/lang3/SUNWspro/bin/cc -Xc

#  C++ compiler (SC3.0)
#  Note:
#     The Pablo libraries are current provided for two version of
#     the Solaris C++ compiler, SC2.0 and SC3.0.  If you change 
#     CXX below to use the SC2.0 C++ compiler, you must also 
#     change $(DSYSTEM)/lib/pablo/libPablo-SunOS-5.x-g.a to be a
#     symbolic link to CC2.0.1.libPablo.a.
#CXX = /opt/SUNWspro/bin/CC
CXX = /usr/local2.x/lang3/SUNWspro/bin/CC

#  C++ library to use for prelinking
LCXX = -lC

# Archive command
AR = /usr/ccs/bin/ar
ARFLAGS = r

#  remove command
RM = /bin/rm -f

#  Purify prefix
PURE = /usr/local2.x/purify-3.0-solaris2/purify 

#  Echo command
ECHO = /usr/bin/echo 

#  Command used to strip -g libraries
STRIP = strip -x

#  Extra flags for required for the specific architecture
ARCH_CPPFLAGS = 

# Directories for X includes and archives
X11_LIB_DIR = /usr/local2.x/X11R5/lib
X11_INCLUDE_DIR = /usr/local2.x/X11R5/include
#X11_LIB_DIR = /usr/openwin/lib
#X11_INCLUDE_DIR = /usr/openwin/include/X11

#  Libraries needed for X-Windows
X11_LIB = -L$(X11_LIB_DIR) -lX11

#  Libraries need for Fortran
FORT_LIB = -Li/usr/local2.x/lang3/SUNWspro/SC3.0/lib -lF77
#FORT_LIB = -L/opt/SUNWspro/SC2.0.1 -lF77

#  Specific libraries needed by the architecture
ARCH_LIBS = -L/usr/ucblib -lucb -lelf -lsocket -Bdynamic -lnsl

#  Additional linking flags needed by the architecture
ifeq "$(STATIC)" "yes"
LDFLAGS := $(LDFLAGS) -Bstatic
else # "$(STATIC)" "yes"
LDFLAGS := $(LDFLAGS) -R /usr/local2.x/lang3/SUNWspro/lib:/usr/local2.x/X11R5/lib:/usr/ucblib
#LDFLAGS := $(LDFLAGS) -R /usr/openwin/lib:/opt/SUNWspro/SC2.0.1:/usr/ucblib
endif # "$(STATIC)" "yes"

endif # "$(DSYSTEM_OS)" "SunOS-5.x"

###########################################################################
# Tools and scripts used during the make.
###########################################################################

#-----------------------------------------------------------------
# path needed to locate the tools and scripts.
#-----------------------------------------------------------------
ifndef DSYSTEM_TOOLS
DSYSTEM_TOOLS = $(DSYSTEM)/tools
endif

ifndef DSYSTEM_TOOLS_DEV
DSYSTEM_TOOLS_DEV = $(DSYSTEM_TOOLS)/develop
endif

ifndef DSYSTEM_TOOLS_DEV_BIN
DSYSTEM_TOOLS_DEV_BIN = $(DSYSTEM_TOOLS_DEV)/bin
endif

ifndef DSYSTEM_TOOLS_DEV_BIN_SCRIPTS
DSYSTEM_TOOLS_DEV_BIN_SCRIPTS = $(DSYSTEM_TOOLS_DEV_BIN)/scripts
endif

ifndef DSYSTEM_TOOLS_DEV_BIN_OS
DSYSTEM_TOOLS_DEV_BIN_OS = $(DSYSTEM_TOOLS_DEV_BIN)/$(DSYSTEM_OS)
endif

#-----------------------------------------------------------------
# the actual locations of tools and scripts used during the make.
#-----------------------------------------------------------------

#  perl
#     be sure to provide the needed softlink in the DSYSTEM_TOOLS_DEV_BIN_OS
#     directory for perl.
PERL = $(DSYSTEM_TOOLS_DEV_BIN_OS)/perl/perl

#  lint
LINT = $(DSYSTEM_TOOLS_DEV_BIN)/dlint -abhuz

#  make
MAKE = $(DSYSTEM_TOOLS_DEV_BIN)/dmake 

#-----------------------------------------------------------------
# perl scripts that are used during the make.
#-----------------------------------------------------------------

#  used to compute dependences
DEPVERIFY = $(PERL) $(DSYSTEM_TOOLS_DEV_BIN_SCRIPTS)/DependenceVerify

#  the filter for the -E output of the compilers to produce the 
#  .d_* files
DEPFILTER = $(PERL) $(DSYSTEM_TOOLS_DEV_BIN_SCRIPTS)/DependenceFilter

#  check the dependence files to see if it is neccessary to 
#  recompile a file which is in the DSYSTEM_SRC directory
DEPCHECK = $(PERL) $(DSYSTEM_TOOLS_DEV_BIN_SCRIPTS)/DependenceCheck

# get info about the DSYSTEM_PVT directory
DSYS_PVT_STATUS = $(PERL) $(DSYSTEM_TOOLS_DEV_BIN_SCRIPTS)/DSysPvtStatus

# make the symbolic links in the bin directories
MAKE_BIN_LINKS = $(PERL) $(DSYSTEM_TOOLS_DEV_BIN_SCRIPTS)/MakeBinLinks

###########################################################################
# GNU specific stuff for those who want to use gcc and g++ instead of a 
# the OS resident compilers
#
#    Be sure to provide the need softlink in the 
#    $(DSYSTEM)/tools/develop/bin/$(DSYSTEM_OS) directory that points to
#    the directory where gcc and g++ have been installed.
#
###########################################################################

#-----------------------------------------------------------------
# define the version of gcc to be used and the processor/OS type
# as defined by GNU
#-----------------------------------------------------------------
ifeq  "$(DSYSTEM_OS)" "OSF1"
GCC_VERSION = 2.7.2
GCC_TYPE = alpha-dec-osf3.2
endif # "$(DSYSTEM_OS)" "OSF1"

ifeq  "$(DSYSTEM_OS)" "SunOS-5.x"
GCC_VERSION = 2.5.8
GCC_TYPE = sparc-sun-solaris2.3
endif # "$(DSYSTEM_OS)" "SunOS-5.x"

#-----------------------------------------------------------------
# Directory of machine-specific gnu tools
#-----------------------------------------------------------------
DSYSTEM_GCC_DIR = $(DSYSTEM_TOOLS_DEV_BIN_OS)/gcc
DSYSTEM_GCC_LIB = $(DSYSTEM_GCC_DIR)/lib/gcc-lib/$(GCC_TYPE)/$(GCC_VERSION)

#-----------------------------------------------------------------
# configuration of include paths used by the preprocessor for gcc 
# and g++ 
#-----------------------------------------------------------------
C_INCLUDE_PATH = $(DSYSTEM_GCC_LIB)/include:/usr/include
CPLUS_INCLUDE_PATH = $(DSYSTEM_GCC_DIR)/lib/g++-include:$(DSYSTEM_GCC_LIB)/include:/usr/include
GCC_INCLUDE_DIR = $(DSYSTEM_GCC_LIB)

#-----------------------------------------------------------------
# compilers, dependence generators, and dependence filters for 
# GCC and G++
#-----------------------------------------------------------------
GCC	= $(DSYSTEM_GCC_DIR)/bin/gcc
GXX = $(DSYSTEM_GCC_DIR)/bin/g++

#-----------------------------------------------------------------
# gnu libraries for C++
#-----------------------------------------------------------------
LGXX    = -lgcc -lg++
